(()=>{"use strict";var e={d:(o,t)=>{for(var a in t)e.o(t,a)&&!e.o(o,a)&&Object.defineProperty(o,a,{enumerable:!0,get:t[a]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o)};e.d({},{L:()=>d});class o{static fromJson({id:e,tarea:t,completado:a,creado:s}){const l=new o(t);return l.id=e,l.completado=a,l.creado=s,l}constructor(e){this.tarea=e,this.id=(new Date).getTime(),this.completado=!1,this.creado=new Date}imprimirClase(){console.log(`${this.tarea} - ${this.id}`)}}const t=document.querySelector(".todo-list"),a=document.querySelector(".new-todo"),s=document.querySelector(".clear-completed"),l=document.querySelector(".filters"),c=document.querySelectorAll(".filtro"),r=e=>{const o=`<li class= "${e.completado?"completed":""}" data-id="${e.id}">\n        <div class="view">\n            <input class="toggle" type="checkbox" ${e.completado?"checked":""}>\n            <label> ${e.tarea} </label>\n            <button class="destroy"></button>\n        </div>\n        <input class="edit" value="Create a TodoMVC template">\n        </li> --\x3e`,a=document.createElement("div");return a.innerHTML=o,t.append(a.firstElementChild),a.firstElementChild};a.addEventListener("keyup",(e=>{if(13===e.keyCode){const e=new o(a.value);d.nuevoTodo(e),r(e),a.value=""}})),t.addEventListener("click",(e=>{console.log("click"),console.log(e.target.localName);const o=e.target.localName,a=e.target.parentElement.parentElement,s=a.getAttribute("data-id");console.log(a),console.log(s),o.includes("input")?(d.marcarCompletado(s),a.classList.toggle("completed")):o.includes("button")&&(d.eliminarTodo(s),t.removeChild(a)),console.log(d)})),s.addEventListener("click",(()=>{d.eliminarCompletados();for(let e=t.children.length-1;e>=0;e--){const o=t.children[e];console.log(o),o.classList.contains("completed")&&t.removeChild(o)}})),l.addEventListener("click",(e=>{console.log(e.target.text);const o=e.target.text;if(o){c.forEach((e=>e.classList.remove("selected"))),console.log(e.target),e.target.classList.add("selected");for(const e of t.children){console.log(e),e.classList.remove("hidden");const t=e.classList.contains("completed");switch(o){case"Pendientes":t&&e.classList.add("hidden");break;case"Completados":t||e.classList.add("hidden")}}}}));const d=new class{constructor(){this.cargarLocalStorage()}nuevoTodo(e){this.todos.push(e),this.guardarLocalStorage()}eliminarTodo(e){this.todos=this.todos.filter((o=>o.id!=e)),this.guardarLocalStorage()}marcarCompletado(e){for(const o of this.todos)if(console.log(e,o.id),o.id==e){o.completado=!o.completado,this.guardarLocalStorage();break}}eliminarCompletados(){this.todos=this.todos.filter((e=>!e.completado)),this.guardarLocalStorage()}guardarLocalStorage(){localStorage.setItem("todo",JSON.stringify(this.todos))}cargarLocalStorage(){this.todos=localStorage.getItem("todo")?JSON.parse(localStorage.getItem("todo")):[],this.todos=this.todos.map((e=>o.fromJson(e)))}};d.todos.forEach((e=>r(e))),console.log("todos",d.todos),d.todos[0].imprimirClase()})();